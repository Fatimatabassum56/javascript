<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
    function apiCall(url) {
    let xhr = new XMLHttpRequest()
    console.log(xhr)

    xhr.responseType = 'json'
    xhr.onprogress = function () {
        console.log("loading...")
    }

    let promise = new Promise(function (resolve, reject) {
        xhr.onload = function () {
            resolve(xhr.response)
        }
        xhr.onerror = function () {
            reject("err")
        }
    })
   
    xhr.open('GET', url)
    xhr.send()

    return promise

}

//  apiCall('https://dummyjson.com/carts/1')
//    .then((data1) => { 
//    let api1=data1.total
//    console.log(api1);
// })
// apiCall('https://dummyjson.com/carts/2')
//    .then((data2) => {  
//     let api2 = data2.total
//     console.log(api2);
    
    
// })



//Now make sequential API calls. Use the
//response of the first promise and return the
//total amount to the next.
let totalAmount;
Promise.all([apiCall('https://dummyjson.com/carts/1'), apiCall('https://dummyjson.com/carts/2')])

.then(([data1, data2])=>{
    console.log(data1);
    console.log(data2);
    console.log("total amount of cart1",data1.total);
    console.log("total amount of cart2",data2.total);
    
    totalAmount = data1.total + data2.total
    console.log("Total amount of cart1 and cart2 is",totalAmount);
    })







        
      
     

    
    </script>
</body>
</html>